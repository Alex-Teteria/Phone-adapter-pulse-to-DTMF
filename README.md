# Phone-adapter-pulse-to-DTMF
### Адаптер чотирьохпровідного телефонного апарата з дисковим номеронаберачем до FXS порта  
## Описання  
Перетворює імпульси дискового номеронаберача з часовими параметрами:  
час розмикання імпульсного контакту - 60 мс,  
час замикання імпульсного контакту - 40 мс  
в DTMF сигнал тривалістю 60 мс, який відповідає набраній цифрі.  
Реалізовано короткий набір із трьох цифр, де перша цифра "2" визначає, що подальший набір буде коротким. Відповідність коротких наборів та їх реальних номерів попередньо повинна бути визначена файлом phone_directory.json


## Призначення файлів  

| File | Contain | Purpose |
| --- |  ---: |  --- |
| lib |  |Каталог, який містить необхідні модулі |
|  | measuring_time_intervals.py | Модуль для вимірювання часових інтервалів  |
| DTMF_via_PWM |  |Каталог, який містить дещо для формування гармонічних сигналів, зокрема DTMF, через ШІМ. Хоча в основній програмі нічого з цього не використовується, оскільки замість тонових сигналів застосовано меандри, проте може бути корисним за потреби генерування гармонічних сигналів |
||  |  |
| phone_adapter_pulse_to_DTMF.py |  | Основний код, при перенесенні до Pi Pico слід перейменувати в main.py |
| phone_directory.json |  | Приклад json-файла телефонного довідника для використання коротких наборів |
| meandr_generator_via_timer.py |  | Код для генерування неперервних меандр-імпульсів за допомогою таймерів. Може бути необхідний для налаштування схеми |
| DTMF_via_timer.py |  | Код для генерування меандрових сигналів за допомогою таймерів з частотою слідування, яка відповідає DTMF. Символ, або послідовність символів для набору - як запит уведення з клавіатури. Може бути необхідний для налаштування схеми |

## Принципова схема
![20250717_134111](https://github.com/user-attachments/assets/928bf29d-6fec-40e2-a353-872180bd8b6f)
### ДС (дифсистема):
![20250717_134753](https://github.com/user-attachments/assets/8478eeec-4703-4dfa-ab44-5ac7a9e0fe56)
## Зовнішній вигляд монтажу
![20250722_103603](https://github.com/user-attachments/assets/adf47ed0-70b2-45fb-a9be-79b0adef92c2)
### Деякі доповнення та зауваження до схеми  
* Рівень прийому піднято приблизно на 1Нп (в 3 рази), для чого використано модуль підсилювача **LM386**, який включено на виході дифсистеми по прийому (між вив.2 дифсистеми та виходом ТЛФ прм.)
* Як DC-DC перетворювач напруги 24v/5v використано модуль **DD4012SA**. Його основні характеристики: 
    * Input voltage 5~40V, output 3.3V or 5V
    * Maximum output current 1A
    * DC-DC Step-Down Converter module working frequency 550KHz. efficiency is 76-90%
    * Quiescent current: about 1.5mA 

* Адаптер напруги ~220В / =24В використано з вихідним струмом 650 mA.

	
  
  
  














